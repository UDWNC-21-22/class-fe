{"ast":null,"code":"var _jsxFileName = \"D:\\\\WEBNC\\\\thiGK\\\\Midterm-Class\\\\src\\\\components\\\\Profile\\\\Profile.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Container, Grid, makeStyles, Paper, TextField, Typography, Box } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport authApi from \"../../apis/auth.api\";\nimport { useLocalContext } from \"../../context/context\";\nimport Notification from \"../Notifications/Notification\";\nimport severity from \"../Notifications/severity\";\nimport cookie from 'react-cookies';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(themes => ({\n  container: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column'\n  },\n  root: {\n    marginTop: themes.spacing(5),\n    display: 'flex',\n    justifyContent: 'center',\n    width: '70%'\n  },\n  changePassword: {\n    display: 'flex',\n    margin: themes.spacing(2),\n    flexDirection: 'column'\n  },\n  grid: {\n    width: '300px',\n    margin: themes.spacing(5)\n  }\n}));\nconst dummy = {\n  username: \"ngdkhoi\",\n  password: \"202cb962ac59075b964b07152d234b70\",\n  fullname: \"Nguyễn Đình Khôi\",\n  email: \"ngdkhoi27600@gmail.com\"\n};\n\nconst Profile = () => {\n  _s();\n\n  const {\n    dataInfo,\n    setDataInfo\n  } = useLocalContext();\n  const styles = useStyles();\n  const [isChangeProfile, setIsChangeProfile] = useState(false);\n  const [currentFullName, setFullName] = useState(dataInfo.fullname);\n  const [currentEmail, setEmail] = useState(dataInfo.email);\n  /**\r\n   * change password\r\n   */\n\n  const [isChangePassword, setIsChangePassword] = useState(false);\n  const [currentPassword, setCurrentPassword] = useState('');\n  const [changePassword, setChangePassword] = useState('');\n  const [confirmChangePassword, setConfirmChangePassword] = useState('');\n  const [Notify, setNotify] = useState({\n    isOpen: false,\n    message: '',\n    type: ''\n  });\n\n  const updateProfile = async e => {\n    try {\n      e.preventDefault();\n      console.log(currentEmail);\n      await authApi.changeProfile({\n        fullname: currentFullName,\n        email: currentEmail\n      });\n      setNotify({\n        isOpen: true,\n        message: 'Change successed',\n        type: severity.success\n      });\n      const newData = await authApi.getInfo();\n      setDataInfo(newData.data);\n      setIsChangeProfile(false);\n      cookie.save(\"user_data\", newData.data);\n    } catch (err) {}\n  };\n\n  const updatePassword = async e => {\n    try {\n      e.preventDefault();\n      const data = await authApi.changePassword({\n        curPass: currentPassword,\n        changePass: changePassword,\n        confirmPass: confirmChangePassword\n      });\n      console.log(data);\n      setNotify({\n        isOpen: true,\n        message: 'Change successed',\n        type: severity.success\n      });\n    } catch (err) {\n      if (Object.keys(err).length > 0) {\n        setNotify({\n          isOpen: true,\n          message: err === null || err === void 0 ? void 0 : err.message,\n          type: severity.error\n        });\n      } else {\n        // An error has occurred\n        alert('An error has occurred');\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      children: [console.log(dataInfo), /*#__PURE__*/_jsxDEV(Box, {\n        className: styles.container,\n        children: [/*#__PURE__*/_jsxDEV(Paper, {\n          className: styles.root,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            className: styles.grid,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"Th\\xF4ng tin c\\xE1 nh\\xE2n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this), isChangeProfile == false ? /*#__PURE__*/_jsxDEV(Grid, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                children: \"FullName\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: currentFullName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: currentEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"User Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: dataInfo.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => setIsChangeProfile(true),\n                children: \"Change\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: updateProfile,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  children: \"FullName\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  value: currentFullName,\n                  onChange: e => {\n                    setFullName(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  value: currentEmail,\n                  onChange: e => {\n                    setEmail(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  children: \"User Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  children: dataInfo.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  children: \"Update\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Paper, {\n          className: styles.root,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            className: styles.grid,\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: styles.changePassword,\n              onSubmit: updatePassword,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                children: \"Change password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Current Password\",\n                placeholder: \"Enter curent password\",\n                type: \"password\",\n                onChange: e => {\n                  setCurrentPassword(e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"New Password\",\n                placeholder: \"Enter new password\",\n                type: \"password\",\n                onChange: e => {\n                  setChangePassword(e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Confirm Password\",\n                placeholder: \"Re-enter new password\",\n                type: \"password\",\n                onChange: e => {\n                  setConfirmChangePassword(e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                children: \"Change Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Notification, {\n      Notify: Notify,\n      setNotify: setNotify\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Profile, \"TNAbPMk5FZy23XXQZ7oigeZdUE8=\", false, function () {\n  return [useLocalContext, useStyles];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["D:/WEBNC/thiGK/Midterm-Class/src/components/Profile/Profile.js"],"names":["Button","Container","Grid","makeStyles","Paper","TextField","Typography","Box","React","useState","authApi","useLocalContext","Notification","severity","cookie","useStyles","themes","container","display","justifyContent","alignItems","flexDirection","root","marginTop","spacing","width","changePassword","margin","grid","dummy","username","password","fullname","email","Profile","dataInfo","setDataInfo","styles","isChangeProfile","setIsChangeProfile","currentFullName","setFullName","currentEmail","setEmail","isChangePassword","setIsChangePassword","currentPassword","setCurrentPassword","setChangePassword","confirmChangePassword","setConfirmChangePassword","Notify","setNotify","isOpen","message","type","updateProfile","e","preventDefault","console","log","changeProfile","success","newData","getInfo","data","save","err","updatePassword","curPass","changePass","confirmPass","Object","keys","length","error","alert","target","value"],"mappings":"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","sourcesContent":["import { Button, Container, Grid, makeStyles, Paper, TextField, Typography, Box } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport authApi from \"../../apis/auth.api\";\r\nimport { useLocalContext } from \"../../context/context\";\r\nimport Notification from \"../Notifications/Notification\";\r\nimport severity from \"../Notifications/severity\";\r\nimport cookie from 'react-cookies';\r\n\r\nconst useStyles = makeStyles(themes => ({\r\n    container: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        flexDirection: 'column',\r\n    },\r\n    root: {\r\n        marginTop: themes.spacing(5),\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        width: '70%'\r\n    },\r\n    changePassword: {\r\n        display: 'flex',\r\n        margin: themes.spacing(2),\r\n        flexDirection: 'column',\r\n\r\n    },\r\n    grid: {\r\n        width: '300px',\r\n        margin: themes.spacing(5)\r\n    }\r\n}))\r\n\r\nconst dummy = {\r\n    username: \"ngdkhoi\",\r\n    password: \"202cb962ac59075b964b07152d234b70\",\r\n    fullname: \"Nguyễn Đình Khôi\",\r\n    email: \"ngdkhoi27600@gmail.com\",\r\n}\r\n\r\nconst Profile = () => {\r\n    const { dataInfo, setDataInfo } = useLocalContext();\r\n    const styles = useStyles();\r\n    const [isChangeProfile, setIsChangeProfile] = useState(false);\r\n    const [currentFullName, setFullName] = useState(dataInfo.fullname);\r\n    const [currentEmail, setEmail] = useState(dataInfo.email)\r\n\r\n    /**\r\n     * change password\r\n     */\r\n    const [isChangePassword, setIsChangePassword] = useState(false);\r\n    const [currentPassword, setCurrentPassword] = useState('');\r\n    const [changePassword, setChangePassword] = useState('');\r\n    const [confirmChangePassword, setConfirmChangePassword] = useState('');\r\n\r\n    const [Notify, setNotify] = useState({ isOpen: false, message: '', type: '' });\r\n\r\n    const updateProfile = async (e) => {\r\n        try {\r\n            e.preventDefault();\r\n            console.log(currentEmail);\r\n            await authApi.changeProfile({ fullname: currentFullName, email: currentEmail });\r\n            setNotify({\r\n                isOpen: true,\r\n                message: 'Change successed',\r\n                type: severity.success\r\n            })\r\n            const newData = await authApi.getInfo();\r\n            setDataInfo(newData.data);\r\n            setIsChangeProfile(false);\r\n            cookie.save(\"user_data\", newData.data);\r\n        }\r\n        catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n    const updatePassword = async e => {\r\n        try {\r\n            e.preventDefault();\r\n\r\n            const data = await authApi.changePassword({ curPass: currentPassword, changePass: changePassword, confirmPass: confirmChangePassword })\r\n            console.log(data);\r\n            setNotify({\r\n                isOpen: true,\r\n                message: 'Change successed',\r\n                type: severity.success\r\n            })\r\n        }\r\n        catch (err) {\r\n            if (Object.keys(err).length > 0) {\r\n                setNotify({\r\n                    isOpen: true,\r\n                    message: err?.message,\r\n                    type: severity.error\r\n                })\r\n            }\r\n            else {\r\n                // An error has occurred\r\n                alert('An error has occurred')\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {/* <Drawer /> */}\r\n            <Container >\r\n                {console.log(dataInfo)}\r\n                <Box className={styles.container}>\r\n                    <Paper className={styles.root}>\r\n                        <Grid className={styles.grid}>\r\n                            <Grid>\r\n                                <Typography>Thông tin cá nhân</Typography>\r\n                            </Grid>\r\n                            {\r\n                                isChangeProfile == false ?\r\n                                    <Grid>\r\n                                        <Typography>FullName</Typography>\r\n                                        <Typography>{currentFullName}</Typography>\r\n                                        <Typography>Email</Typography>\r\n                                        <Typography>{currentEmail}</Typography>\r\n                                        <Typography>User Name</Typography>\r\n                                        <Typography>{dataInfo.username}</Typography>\r\n                                        <Button onClick={() => setIsChangeProfile(true)}>Change</Button>\r\n                                    </Grid> :\r\n                                    <form onSubmit={updateProfile}>\r\n                                        <Grid>\r\n                                            <Typography>FullName</Typography>\r\n                                            <TextField fullWidth\r\n                                                value={currentFullName}\r\n                                                onChange={e => { setFullName(e.target.value) }}\r\n                                            />\r\n\r\n                                            <Typography>Email</Typography>\r\n                                            <TextField fullWidth\r\n                                                value={currentEmail}\r\n                                                onChange={e => { setEmail(e.target.value) }}\r\n                                            />\r\n\r\n                                            <Typography>User Name</Typography>\r\n                                            <Typography>{dataInfo.username}</Typography>\r\n                                            <Button type='submit'>Update</Button>\r\n\r\n                                        </Grid>\r\n                                    </form>\r\n                            }\r\n\r\n                        </Grid>\r\n                    </Paper>\r\n                    <Paper className={styles.root}>\r\n                        <Grid className={styles.grid}>\r\n                            <form className={styles.changePassword} onSubmit={updatePassword}>\r\n                                <Typography>\r\n                                    Change password\r\n                                </Typography>\r\n                                <TextField fullWidth\r\n                                    label='Current Password'\r\n                                    placeholder='Enter curent password'\r\n                                    type='password'\r\n                                    onChange={e => { setCurrentPassword(e.target.value) }}\r\n                                />\r\n                                <TextField fullWidth\r\n                                    label='New Password'\r\n                                    placeholder='Enter new password'\r\n                                    type='password'\r\n                                    onChange={e => { setChangePassword(e.target.value) }}\r\n                                />\r\n                                <TextField fullWidth\r\n                                    label='Confirm Password'\r\n                                    placeholder='Re-enter new password'\r\n                                    type='password'\r\n                                    onChange={e => { setConfirmChangePassword(e.target.value) }}\r\n                                />\r\n                                <Button type='submit'>Change Password</Button>\r\n                            </form>\r\n                        </Grid>\r\n                    </Paper>\r\n                </Box>\r\n            </Container>\r\n            <Notification\r\n                Notify={Notify}\r\n                setNotify={setNotify} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}